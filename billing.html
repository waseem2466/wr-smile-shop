<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Billing - WR Smile</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"  rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> 
</head>
<body>

<!-- Loader -->
<div id="page-loader" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #fff; z-index: 9999; display: flex; align-items: center; justify-content: center;">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div class="container mt-4">
  <div class="text-center mb-3">
    <img src="assets/logo.png" alt="Logo" width="150" />
  </div>
  <h2>Create Bill</h2>
  <input type="text" id="product-search" class="form-control mb-3" placeholder="Search product by name..." />
  <div id="cart" class="border rounded p-3 mb-3" style="min-height: 100px;">
    <strong>Cart:</strong>
    <ul id="cart-items"></ul>
  </div>
  <h5>Total: Rs.<span id="total-amount">0</span></h5>
  <button class="btn btn-success w-100" onclick="generateReceipt()">Print Receipt</button>
  <button class="btn btn-success w-100 mt-2" onclick="sendReceiptViaWhatsApp()">ðŸ“² Send via WhatsApp</button>
</div>

<!-- Receipt Modal -->
<div class="modal fade" id="receiptModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body" id="receipt-content">
        <div class="text-center mb-3">
          <img src="assets/logo.png" alt="Logo" width="100" class="mb-2" />
          <h4>WR Smile and Supplies</h4>
          <p>411/7, Kandy Road, Mollipothana, Kanthala</p>
          <p>Tel: 076-495-0844</p>
          <hr>
        </div>
        <div id="receipt-items"></div>
        <hr>
        <div class="d-flex justify-content-between">
          <strong>Date:</strong>
          <span id="receipt-date"></span>
        </div>
        <div class="d-flex justify-content-between">
          <strong>Total:</strong>
          <span id="receipt-total">Rs. 0</span>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="window.print()">Print</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 
<script type="module" src="script.js"></script>

</body>
</html>